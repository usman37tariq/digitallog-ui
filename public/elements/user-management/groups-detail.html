<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/global-var/global-var.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<dom-module id="groups-detail">

    <template>

        <style>
            .text-break {
                word-break: break-word !important;
            }
        </style>

        <div class="detail d-flex flex-column">

            <div class="flex-grow-0 ">
                <div class="p-4 bg-secondary text-light ">
                    <div class="d-flex ">
                        <div class="col-12 p-0 ">
                            <div class="h5 m-0 text-break">Group Information</div>
                        </div>
                    </div>
                </div>
            </div>


            <div class="flex-grow-1 overflow-auto">

                <div class="d-flex flex-wrap">

                    <div class="border-bottom col-12 my-2 px-4 pb-3">
                        <div class="text-muted">Group Name</div>
                        <div class="text-break">{{itemData.group.name}}</div>

                    </div>

                    <div class="border-bottom col-12 my-2 px-4 pb-3">
                        <div class="text-muted">Description</div>
                        <div class="text-break">{{itemData.group.description}}</div>
                    </div>

                    <!-- <template is="dom-if" if="{{itemData.resources}}">
                        <div class="border-bottom col-12 my-2 px-4 pb-3">
                            <div class="text-muted">Resources</div>
                            <template is="dom-repeat" items="{{itemData.resources}}">
                                <div class="d-flex justify-content-between border rounded px-3 py-2 my-2">

                                    <div><i class$="fas {{_assignIcon(item.read)}} mr-2 text-muted"></i>
                                    </div>
                                    <div class="flex-grow-1">{{item.resource.resourceName}}</div>

                                </div>
                            </template>

    <template is="dom-repeat" items="{{itemData.resources}}">
                                <div class="d-flex justify-content-between border rounded px-3 py-2 my-2">
                                    <div class="flex-grow-1">{{item.resource.resourceName}}</div>

                                    <div class="px-2"><i
                                            class$="fas {{_assignIcon(item.read)}} mr-2 text-muted"></i>Read</div>
                                    <div class="px-2"><i 
                                        class$="fas {{_assignIcon(item.add)}} mr-2 text-muted"></i>Add
                                    </div>
                                    <div class="px-2"><i
                                            class$="fas {{_assignIcon(item.edit)}} mr-2 text-muted"></i>Edit</div>
                                    <div class="px-2"><i
                                            class$="fas {{_assignIcon(item.delete)}} mr-2 text-muted"></i>Delete</div>
                                </div>
                            </template>
    </div>
    </template> -->

                    <div class="border-bottom col-12 my-2 px-4 pb-3">
                        <div class="text-muted">Members ({{itemData.users.length}})</div>
                        <template is="dom-repeat" items="{{itemData.users}}" restamp>
                            <div class="text-break py-1"><i
                                    class="fas fa-user fa-sm mr-2 text-muted"></i>{{item.userName}}
                            </div>
                        </template>
                    </div>


                </div>

            </div>


        </div>








    </template>

    <script>
        Polymer({
            is: "groups-detail",

            properties: {

            },

            created: function () {
                document.documentElement.classList.remove('in-progress');
            },

            ready: function () {

            },
            _test: function () {
                var _root = this;
                console.log(_root.itemData);
            },

            attached: function () {

            },

            detached: function () {

            },

            attributeChanged: function (name, type) {

            },

            _assignIcon: function (type) {
                if (type === 0) {
                    return 'fa-times'
                } else if (type === 1) {
                    return 'fa-check fa-sm'
                }
            }
        });
    </script>

</dom-module>